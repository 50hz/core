<!DOCTYPE html>

<html>
    <head>
        <title>simple hypergrid demo</title>
        <script src="../../demo/build/hypergrid.js"></script>

        <script>
            window.onload = function() {
                getJSON('data.json', function(data) {
                    var div = document.querySelector('div#json-example'),
                        jsonGrid = new fin.Hypergrid(div, { data: data });

                    jsonGrid.addProperties({ showFilterRow: false });

                    jsonGrid.behavior.setData(data);
                });
            };

            function getJSON(url, callback) {
                var my_JSON_object;
                var http_request = new XMLHttpRequest();
                http_request.open("GET", url, true);
                http_request.onreadystatechange = function () {
                    var done = 4, ok = 200;
                    if (http_request.readyState === done && http_request.status === ok) {
                        callback(JSON.parse(http_request.responseText));
                    }
                };
                http_request.send(null);
            }
        </script>
    </head>
    <body>
        <p> JSON example using AJAX.<br/>
            Put your JSON in:<b><code> ./data.json</code></b>
        </p>
        <div id="json-example" style="position:relative; width:250px; height:100px"></div>
        <p><small><em>Note: Must be served; AJAX does not work with the file:// protocol.</em></samll></p>
    </body>
</html>
