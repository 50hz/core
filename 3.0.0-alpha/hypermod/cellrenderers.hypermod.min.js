!function(e,t,r,a){"use strict";t.exports=function(){var l=this,i=l.grid,s=i.behavior.schema;i.behavior.dataModel.getCell=function(e,t){if(e.isUserDataArea){var r,a,o=e.dataCell.x,n=e.dataCell.y;switch(l.styleRowsFromData&&(r=(155+i.behavior.getColumn(s.totalNumberOfPetsOwned.index).getValue(n)%11*10).toString(16),e.backgroundColor="#"+r+r+r),o){case s.lastName.index:e.color=null!=e.value&&"S"===(e.value+"")[0]?"red":"#191919",e.link=!0;break;case s.income.index:a=60;break;case s.travel.index:a=105}a&&(a+=Math.round(150*e.value/1e5),e.backgroundColor="#00"+a.toString(16)+"00",e.color="#FFFFFF"),s.totalNumberOfPetsOwned.index}return i.cellRenderers.get(t)};var R=/^#(..)(..)(..)$/,$=/^rgba\((\d+),(\d+),(\d+),\d+\)$/;var e=i.cellRenderers.BaseClass.extend({paint:function(r,e){var t,a,o,n,l=e.bounds.x,i=e.bounds.y,s=e.bounds.width,c=e.bounds.height,d=e.value,h=d.domain||e.domain||100,f=d.sizeFactor||e.sizeFactor||.65,u=d.darkenFactor||e.darkenFactor||.75,g=d.color||e.color||"gold",v=this.stroke=g===this.color?this.stroke:(t=r,a=this.color=g,o=u,n=function(e,t){var r=(e.cache.fillStyle=t).match(R);if(r)r.shift(),r.forEach(function(e,t){r[t]=parseInt(e,16)});else{if(!(r=t.match($)))throw"Unexpected format getting CanvasRenderingContext2D.fillStyle";r.shift()}return r}(t,a),"rgba("+Math.round(o*n[0])+","+Math.round(o*n[1])+","+Math.round(o*n[2])+","+(n[3]||1)+")"),x=e.isSelected?d.fgSelColor||e.fgSelColor:d.fgColor||e.fgColor,p=d.shadowColor||e.shadowColor||"transparent",b=c/2,m=f*c,C=f*b,y=Number(d.val),w=this.points;if(!w){var F=3/7*C;w=this.points=[];for(var M=5,S=Math.PI/2,k=Math.PI/5;M;--M,S+=k)w.push({x:C*Math.cos(S),y:b-C*Math.sin(S)}),S+=k,w.push({x:F*Math.cos(S),y:b-F*Math.sin(S)});w.push(w[0])}r.cache.shadowColor="transparent",r.cache.lineJoin="round",r.beginPath();for(var O=5,P=l+5+C;O;--O,P+=m)w.forEach(function(e,t){r[t?"lineTo":"moveTo"](P+e.x,i+e.y)});r.closePath(),y=y/h*5,r.cache.fillStyle=g,r.save(),r.clip(),r.fillRect(l+5,i,(Math.floor(y)+.25+y%1*.5)*m,c),r.restore(),r.cache.strokeStyle=v,r.cache.lineWidth=1,r.stroke(),x&&"transparent"!==x&&(r.cache.fillStyle=x,r.cache.font="11px verdana",r.cache.textAlign="right",r.cache.textBaseline="middle",r.cache.shadowColor=p,r.cache.shadowOffsetX=r.cache.shadowOffsetY=1,r.fillText(y.toFixed(1),l+s+10,i+c/2))}});return i.cellRenderers.add("Starry",e),i}}(fin.Hypergrid.require,fin.Hypergrid.modules,fin.$x={},fin.Hypergrid),fin.Hypergrid.modules.cellrenderers=fin.$x,delete fin.$x;